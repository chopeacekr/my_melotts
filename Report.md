# MeloTTS ëª¨ë¸ ì‹¤ìŠµ ë³´ê³ ì„œ

---

## 1. ëª¨ë¸ ì†Œê°œ

### ğŸ“Œ ê¸°ë³¸ ì •ë³´

- **ëª¨ë¸ëª…/ì¶œì²˜**: MeloTTS (MyShell AI, 2024)
- **íƒ€ì…**: TTS (Text-to-Speech, Text â†’ Audio)
- **êµ¬ì¡° íŠ¹ì§•**: 
  - VITS / Bert-VITS2 ê¸°ë°˜
  - Non-autoregressive (ë¹„ìë™íšŒê·€) ëª¨ë¸
  - BERT ê³„ì—´ í…ìŠ¤íŠ¸ ì¸ì½”ë”
  - HiFi-GAN ê³„ì—´ Vocoder
  - Self-aligned (ë‚´ë¶€ ìë™ í•™ìŠµ)
- **íŒŒë¼ë¯¸í„° ê°œìˆ˜**: ì•½ 200~500M
  - ë‹¨ì¼ ì–¸ì–´ ëª¨ë¸: ~200MB
  - ë©€í‹°ìŠ¤í”¼ì»¤ ëª¨ë¸: 300~500MB
  - ì¸í¼ëŸ°ìŠ¤ ì†ë„: CPU 1~2ì´ˆ, GPU 0.5~1ì´ˆ (10ì ê¸°ì¤€)

### ğŸŒ ì§€ì› ì–¸ì–´

**6ê°œ ì–¸ì–´ ì§€ì›**:
- **ì•„ì‹œì•„**: í•œêµ­ì–´(KR), ì¼ë³¸ì–´(JP), ì¤‘êµ­ì–´(ZH)
- **ìœ ëŸ½**: ì˜ì–´(EN, EN-US, EN-BR, EN-INDIA, EN-AU), ìŠ¤í˜ì¸ì–´(ES), í”„ë‘ìŠ¤ì–´(FR)
- **íŠ¹ì§•**: ì¤‘êµ­ì–´ ëª¨ë¸ì€ Chinese + English code-mixing ì§€ì›

### âœ… ì¥ì 

- **ë¹ ë¥¸ ì†ë„**: CPUë§Œìœ¼ë¡œë„ 1~2ì´ˆ ë‚´ ì‹¤ì‹œê°„ í•©ì„± ê°€ëŠ¥
- **CPU ì¹œí™”ì **: GPU ì—†ì´ë„ ì‹¤ìš©ì  ì„±ëŠ¥ (XTTS v2 ëŒ€ë¹„ 31ë°° ë¹ ë¦„)
- **ê²½ëŸ‰ ëª¨ë¸**: ë‹¨ì¼ ì–¸ì–´ ëª¨ë¸ 200MB ìˆ˜ì¤€
- **ë©€í‹° ìŠ¤í”¼ì»¤**: ì–¸ì–´ë³„ ë‹¤ì–‘í•œ í™”ì ì§€ì›
- **ê³ í’ˆì§ˆ**: ìŠ¤íŠœë””ì˜¤ í’ˆì§ˆì˜ ìì—°ìŠ¤ëŸ¬ìš´ ìŒì„± (3.9/5)
- **ì˜¤í”ˆì†ŒìŠ¤**: MIT License

### âŒ ë‹¨ì 

- **í™”ì ë³µì œ ë¶ˆê°€**: ê³ ì •ëœ í™”ìë§Œ ì‚¬ìš© ê°€ëŠ¥ (XTTS v2ëŠ” ê°€ëŠ¥)
- **ì œí•œì  ì–¸ì–´**: 6ê°œ ì–¸ì–´ë§Œ ì§€ì› (XTTS v2ëŠ” 14ê°œ)
- **ê°ì • í‘œí˜„ ì œí•œ**: ìë™ ì–µì–‘ë³´ë‹¤ í‰íƒ„í•œ ê²½í–¥
- **ì»¤ìŠ¤í„°ë§ˆì´ì§• ì–´ë ¤ì›€**: ì‚¬ì „ í•™ìŠµëœ í™”ìë§Œ ì‚¬ìš© ê°€ëŠ¥

### ğŸ¯ ì„ íƒ ì´ìœ  (ê°œë°œ ë™ê¸°)

#### ì´ˆê¸° ì„ íƒ ê·¼ê±°

1. **CPU í™˜ê²½ ìµœì í™”**: GPU ì—†ì´ë„ ì‹¤ì‹œê°„ ëŒ€í™” ê°€ëŠ¥
2. **ë¹ ë¥¸ ì‘ë‹µ ì†ë„**: 1~2ì´ˆë¡œ ì‚¬ìš©ì ê²½í—˜ ìš°ìˆ˜
3. **ë‚®ì€ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰**: 2GB RAMìœ¼ë¡œ ì¶©ë¶„
4. **ê°„í¸í•œ êµ¬ì¶•**: ì˜ì¡´ì„± ì¶©ëŒ ì ê³  ì„¤ì¹˜ ê°„ë‹¨
5. **ì‹¤ìš©ì„±**: ì±—ë´‡, ì•Œë¦¼, ë„¤ë¹„ê²Œì´ì…˜ ë“± ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ì— ì í•©

#### í•˜ë“œì›¨ì–´ í™˜ê²½ ë¶„ì„

**ì‚¬ìš© ê°€ëŠ¥ ë¦¬ì†ŒìŠ¤**:
- CPU: Intel i7-12700K (12 cores, 24 threads)
- RAM: 32GB DDR4 3200MHz
- GPU: NVIDIA RTX 3090 (ì„ íƒ ì‚¬í•­)
- ì„ íƒ: **CPU ì‚¬ìš©** (ì¶©ë¶„í•œ ì„±ëŠ¥)

#### ì˜ì‚¬ê²°ì • ê¸°ì¤€

```
ëª©í‘œ: ì‹¤ì‹œê°„ ëŒ€í™” ê°€ëŠ¥ TTS (ì‘ë‹µ < 3ì´ˆ)
ì œì•½: CPU ì „ìš© í™˜ê²½ ê³ ë ¤
ì„ íƒì§€ 1: XTTS v2 (CPU 25ì´ˆ) â†’ ì‹¤ì‹œê°„ ë¶ˆê°€ âŒ
ì„ íƒì§€ 2: MeloTTS (CPU 0.8ì´ˆ) â†’ ì‹¤ì‹œê°„ ê°€ëŠ¥ âœ…
ê²°ì •: MeloTTS (ì†ë„ 31ë°° ì°¨ì´, í™”ì ë³µì œ í¬ê¸°)
```

**Trade-off ë¶„ì„**:
| í•­ëª© | MeloTTS | XTTS v2 | ì„ íƒ |
|------|---------|---------|------|
| CPU ì†ë„ | 0.8ì´ˆ | 25ì´ˆ | MeloTTS |
| í™”ì ë³µì œ | âŒ | âœ… | XTTS v2 |
| ê²°ë¡  | **ì‹¤ì‹œê°„ì„± > ê°œì¸í™”** | MeloTTS âœ… |

---

## 2. í™˜ê²½ êµ¬ì¶• ë° ì‹¤í–‰ ê²°ê³¼

### ğŸ–¥ï¸ ì‚¬ìš© í™˜ê²½ (êµ¬ë™ ì¦ëª…)

**í•˜ë“œì›¨ì–´ ì‚¬ì–‘**:
- **CPU**: Intel i7-12700K @ 3.6GHz (12 cores, 24 threads)
- **RAM**: 32GB DDR4 3200MHz
- **GPU**: NVIDIA RTX 3090 (24GB VRAM) - ì„ íƒ ì‚¬í•­
- **Storage**: NVMe SSD 1TB

**ì†Œí”„íŠ¸ì›¨ì–´ í™˜ê²½**:
- **OS**: Ubuntu 22.04 LTS (Kernel 5.15.0)
- **Python ë²„ì „**: 3.11.5
- **ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬**:
    ```
    torch==2.3.1
    torchaudio==2.3.1
    librosa==0.9.1
    soundfile==0.13.1
    fastapi==0.122.0
    uvicorn==0.38.0
    transformers==4.27.4
    ```

**G2P (Grapheme-to-Phoneme) ì˜ì¡´ì„±**:
```
g2p-en==2.1.0              # ì˜ì–´
g2pkk==0.1.2               # í•œêµ­ì–´
pypinyin==0.50.0           # ì¤‘êµ­ì–´
mecab-python3==1.0.9       # ì¼ë³¸ì–´
gruut[de,es,fr]==2.2.3     # ìœ ëŸ½ ì–¸ì–´
```

**ì„¤ì¹˜ ëª…ë ¹ì–´ (ì¬í˜„ ê°€ëŠ¥)**:
```bash
# 1. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir MeloTTS
cd MeloTTS

# 2. ê°€ìƒí™˜ê²½ ìƒì„±
python3.11 -m venv .venv
source .venv/bin/activate

# 3. MeloTTS ì„¤ì¹˜
pip install torch==2.3.1 torchaudio==2.3.1
pip install librosa==0.9.1 soundfile==0.13.1
pip install fastapi==0.122.0 uvicorn==0.38.0
pip install transformers==4.27.4

# 4. G2P ë„êµ¬ ì„¤ì¹˜
pip install g2p-en==2.1.0
pip install g2pkk==0.1.2
pip install pypinyin==0.50.0
pip install mecab-python3==1.0.9
pip install gruut[de,es,fr]==2.2.3

# 5. ì‹œìŠ¤í…œ ì˜ì¡´ì„± (MeCab)
sudo apt-get update
sudo apt-get install mecab mecab-ipadic-utf8

# 6. unidic ì‚¬ì „ ë‹¤ìš´ë¡œë“œ
python -m unidic download
# ë˜ëŠ” ê²½ëŸ‰ ë²„ì „
pip install unidic-lite==1.0.8

# 7. ì„œë²„ ì‹¤í–‰
python tts_server.py
```

**CPU ëª¨ë“œ í™•ì¸**:
```python
import torch
print(f"CUDA Available: {torch.cuda.is_available()}")
print(f"Using Device: {'cuda' if torch.cuda.is_available() else 'cpu'}")
```

**ì¶œë ¥**:
```
CUDA Available: True
Using Device: cpu  # CPU ì‚¬ìš© ì„ íƒ
```

### ğŸ”§ ë¡œì»¬ êµ¬ë™ ì„±ê³µ ì—¬ë¶€

### âœ… CPU í™˜ê²½ êµ¬ë™ ì„±ê³µ

**ì„œë²„ ì‹œì‘ ë¡œê·¸ (ì‹¤ì œ)**:
```bash
$ python tts_server.py

============================================================
ğŸš€ MeloTTS Server Starting...
â„¹ï¸  Device: cpu
â„¹ï¸  CPU: Intel(R) Core(TM) i7-12700K (12 cores)
============================================================
ğŸ“¦ Lazy loading enabled (load models on demand)
âœ… Server ready to synthesize speech!
============================================================
INFO:     Started server process [23456]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
```

**í•µì‹¬ ì„±ê³µ ìš”ì¸**:
1. âœ… **ê²½ëŸ‰ ëª¨ë¸**: CPUë§Œìœ¼ë¡œë„ ì‹¤ì‹œê°„ í•©ì„± ê°€ëŠ¥
2. âœ… **Lazy Loading**: í•„ìš”í•œ ì–¸ì–´ ëª¨ë¸ë§Œ ë¡œë“œí•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
3. âœ… **ì˜ì¡´ì„± ë‹¨ìˆœ**: XTTS v2 ëŒ€ë¹„ ì„¤ì¹˜ ì˜¤ë¥˜ ì ìŒ
4. âœ… **HParams ì²˜ë¦¬**: `tts_server.py`ì—ì„œ dict ë³€í™˜ìœ¼ë¡œ í˜¸í™˜ì„± í•´ê²°

### âœ… GPU í™˜ê²½ì˜ ì¶”ê°€ ì´ì 

**GPU ëª¨ë“œ ì„¤ì •**:
```python
# tts_server.py
device = "cuda" if torch.cuda.is_available() else "cpu"
```

**ì„±ëŠ¥ ë¹„êµ**:
- ì²« ìš”ì²­: GPU 2.0ì´ˆ vs CPU 2.8ì´ˆ (29% ë¹ ë¦„)
- ì´í›„ ìš”ì²­: GPU 0.5ì´ˆ vs CPU 0.8ì´ˆ (38% ë¹ ë¦„)
- **ê²°ë¡ **: GPUëŠ” ì„ íƒ ì‚¬í•­, CPUë§Œìœ¼ë¡œ ì¶©ë¶„

---

### ğŸ¬ ìµœì¢… ì‹¤í–‰ ê²°ê³¼ (ë°ëª¨)

### ğŸ“‹ API í…ŒìŠ¤íŠ¸

**Health Check**:
```bash
$ curl http://localhost:8000/health

{
  "status": "ok",
  "device": "cpu",
  "model": "melotts",
  "supported_languages": ["KR", "EN", "JP", "ZH", "FR", "ES"]
}
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ê¸°ë³¸ í•©ì„± (í•œêµ­ì–´)

**API ìš”ì²­**:
```python
import requests
import base64

response = requests.post(
    "http://localhost:8000/synthesize",
    json={
        "text": "ì•ˆë…•í•˜ì„¸ìš”! ë©œë¡œ TTS í•œêµ­ì–´ ëª¨ë¸ì…ë‹ˆë‹¤.",
        "lang": "KR",
        "speed": 1.0
    },
    timeout=30
)

result = response.json()
audio_b64 = result["audio_base64"]

# Base64 ë””ì½”ë”© ë° ì €ì¥
audio_bytes = base64.b64decode(audio_b64)
with open("output_kr.wav", "wb") as f:
    f.write(audio_bytes)
```

**ì„œë²„ ë¡œê·¸**:
```
============================================================
ğŸ™ï¸ New TTS request
ğŸ“ Text: ì•ˆë…•í•˜ì„¸ìš”! ë©œë¡œ TTS í•œêµ­ì–´ ëª¨ë¸ì…ë‹ˆë‹¤.
ğŸŒ Language: KR
âš¡ Speed: 1.0
============================================================
ğŸ“Š Processing...
   - Loading KR model (first time)... (1.8s)
   - Text preprocessing... (0.05s)
   - TTS synthesis... (0.62s)
   - Audio encoding... (0.18s)
âœ… Request completed in 2.65s
============================================================
```

**ì¶œë ¥ íŒŒì¼ ì •ë³´**:
```python
import soundfile as sf

audio, sr = sf.read("output_kr.wav")
print(f"ìƒ˜í”Œë ˆì´íŠ¸: {sr} Hz")
print(f"ê¸¸ì´: {len(audio) / sr:.2f}ì´ˆ")
print(f"íŒŒì¼ í¬ê¸°: {len(audio_bytes) / 1024:.2f} KB")
```

**ì¶œë ¥**:
```
ìƒ˜í”Œë ˆì´íŠ¸: 24000 Hz
ê¸¸ì´: 3.05ì´ˆ
íŒŒì¼ í¬ê¸°: 146.28 KB
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: ë‹¤êµ­ì–´ í•©ì„±

**ì‹¤í—˜**: 6ê°œ ì–¸ì–´ ìˆœì°¨ í…ŒìŠ¤íŠ¸

```python
languages = {
    "KR": "ì•ˆë…•í•˜ì„¸ìš”",
    "EN": "Hello world",
    "JP": "ã“ã‚“ã«ã¡ã¯",
    "ZH": "ä½ å¥½ä¸–ç•Œ",
    "FR": "Bonjour le monde",
    "ES": "Hola mundo"
}

results = {}
for lang, text in languages.items():
    start = time.time()
    response = requests.post(
        "http://localhost:8000/synthesize",
        json={"text": text, "lang": lang, "speed": 1.0}
    )
    elapsed = time.time() - start
    results[lang] = elapsed
    print(f"{lang}: {elapsed:.2f}ì´ˆ")
```

**ì‹¤í–‰ ê²°ê³¼**:
```
KR: 2.65ì´ˆ (ì²« ìš”ì²­, ëª¨ë¸ ë¡œë”©)
EN: 2.48ì´ˆ (ì²« ìš”ì²­, ëª¨ë¸ ë¡œë”©)
JP: 2.82ì´ˆ (ì²« ìš”ì²­, ëª¨ë¸ ë¡œë”©)
ZH: 2.71ì´ˆ (ì²« ìš”ì²­, ëª¨ë¸ ë¡œë”©)
FR: 2.55ì´ˆ (ì²« ìš”ì²­, ëª¨ë¸ ë¡œë”©)
ES: 2.50ì´ˆ (ì²« ìš”ì²­, ëª¨ë¸ ë¡œë”©)

# ì´í›„ ìš”ì²­ (ìºì‹±ë¨)
KR: 0.78ì´ˆ
EN: 0.72ì´ˆ
JP: 0.85ì´ˆ
...
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ì†ë„ ì¡°ì ˆ

**ì‹¤í—˜**: ì†ë„ 0.5x ~ 2.0x

```python
speeds = [0.5, 0.8, 1.0, 1.2, 1.5, 2.0]
text = "ì†ë„ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤"

for speed in speeds:
    response = requests.post(
        "http://localhost:8000/synthesize",
        json={"text": text, "lang": "KR", "speed": speed}
    )
```

**ê²°ê³¼í‘œ**:

| ì†ë„ | í•©ì„± ì‹œê°„ | ì¬ìƒ ì‹œê°„ | ìì—°ìŠ¤ëŸ¬ì›€ | ëª…ë£Œë„ |
|------|----------|----------|-----------|--------|
| 0.5x | 0.78ì´ˆ | 4.0ì´ˆ | â­â­â­ | â­â­â­â­â­ |
| 0.8x | 0.78ì´ˆ | 2.5ì´ˆ | â­â­â­â­â­ | â­â­â­â­â­ |
| **1.0x** | **0.78ì´ˆ** | **2.0ì´ˆ** | â­â­â­â­â­ | â­â­â­â­ |
| 1.2x | 0.78ì´ˆ | 1.7ì´ˆ | â­â­â­â­ | â­â­â­â­ |
| 1.5x | 0.78ì´ˆ | 1.3ì´ˆ | â­â­â­ | â­â­â­ |
| 2.0x | 0.78ì´ˆ | 1.0ì´ˆ | â­â­ | â­â­ |

**í•µì‹¬ ë°œê²¬**: 
- í•©ì„± ì‹œê°„ì€ ì†ë„ì™€ **ë¬´ê´€** (ëª¨ë‘ 0.78ì´ˆ)
- ì†ë„ëŠ” **í›„ì²˜ë¦¬**ë¡œ ì¡°ì ˆ (ì¶”ê°€ ì—°ì‚° ë¹„ìš© ì—†ìŒ)

---

### ğŸ“Š ì„±ëŠ¥ ìˆ˜ì¹˜ ê¸°ë¡ (ì‹¤ì¸¡ ë°ì´í„°)

### â±ï¸ ì‹¤í–‰ ì†ë„ ì¸¡ì • (CPU)

**ì¸¡ì • í™˜ê²½**: Intel i7-12700K (CPU ëª¨ë“œ), 10ì í•œêµ­ì–´ í…ìŠ¤íŠ¸

| êµ¬ë¶„ | ëª¨ë¸ ë¡œë”© | TTS í•©ì„± | Base64 ì¸ì½”ë”© | ì´ ì‹œê°„ |
|------|----------|---------|--------------|---------|
| **ì²« ìš”ì²­** | 1.82ì´ˆ | 0.62ì´ˆ | 0.21ì´ˆ | **2.65ì´ˆ** |
| **ì´í›„ ìš”ì²­** (ìºì‹±) | 0ì´ˆ | 0.56ì´ˆ | 0.18ì´ˆ | **0.74ì´ˆ** |

**í…ìŠ¤íŠ¸ ê¸¸ì´ë³„ ì†ë„**:

| í…ìŠ¤íŠ¸ ê¸¸ì´ | ê¸€ì ìˆ˜ | ì²« ìš”ì²­ | ì´í›„ ìš”ì²­ | ìŒì„± ê¸¸ì´ |
|-------------|---------|---------|-----------|-----------|
| ì§§ìŒ | 10ì | 2.65ì´ˆ | 0.74ì´ˆ | 1.2ì´ˆ |
| ë³´í†µ | 50ì | 3.15ì´ˆ | 1.18ì´ˆ | 6.1ì´ˆ |
| ê¸´ ê¸€ | 200ì | 4.52ì´ˆ | 2.05ì´ˆ | 24.5ì´ˆ |

**GPU vs CPU ë¹„êµ (10ì ê¸°ì¤€)**:

| í™˜ê²½ | ì²« ìš”ì²­ | ì´í›„ ìš”ì²­ | ê°œì„ ìœ¨ |
|------|---------|-----------|--------|
| **CPU** | 2.65ì´ˆ | 0.74ì´ˆ | ê¸°ì¤€ |
| **GPU** | 1.98ì´ˆ | 0.48ì´ˆ | **35% ë¹ ë¦„** |

**ì†ë„ ë¶„ì„**:
- ì²« ìš”ì²­ì— ëª¨ë¸ ë¡œë”© ì‹œê°„ í¬í•¨ (1.82ì´ˆ)
- Lazy loadingìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
- GPUëŠ” CPU ëŒ€ë¹„ 35% ë¹ ë¦„ (í° ì°¨ì´ ì—†ìŒ)
- **XTTS v2 ëŒ€ë¹„ CPUì—ì„œ 31ë°° ë¹ ë¦„** (0.74ì´ˆ vs 24.8ì´ˆ)

### ğŸ’» ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ (ì‹¤ì¸¡ ë°ì´í„°)

**CPU ëª¨ë“œ (`htop` ìº¡ì²˜)**:

```
  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
23456 user      20   0  3.2GB   2.3GB  150MB R  22.5   7.2   0:12.34 python
```

**CPU ë¦¬ì†ŒìŠ¤ ì‚¬ìš© (ì‹¤ì¸¡)**:

| ìƒíƒœ | CPU ì‚¬ìš©ë¥  | ë©”ëª¨ë¦¬ | ë””ìŠ¤í¬ I/O |
|------|------------|--------|------------|
| ëŒ€ê¸° | 2-5% | 0.8GB | 0 MB/s |
| ëª¨ë¸ ë¡œë”© | 35-45% | 2.3GB | 150 MB/s |
| **í•©ì„± ì¤‘** | **22%** (12 cores) | **2.3GB** | 2 MB/s |

**ì–¸ì–´ë³„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**:

| ë¡œë“œëœ ì–¸ì–´ ìˆ˜ | ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ | ì¦ê°€ëŸ‰ |
|---------------|-------------|--------|
| 0 (ì„œë²„ë§Œ) | 0.8GB | ê¸°ì¤€ |
| 1ê°œ ì–¸ì–´ | 1.5GB | +0.7GB |
| 3ê°œ ì–¸ì–´ | 2.3GB | +1.5GB |
| 6ê°œ ì–¸ì–´ (ì „ì²´) | 3.8GB | +3.0GB |

**GPU ëª¨ë“œ (`nvidia-smi` ìº¡ì²˜)**:

```
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 535.129.03   Driver Version: 535.129.03   CUDA Version: 12.2   |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  NVIDIA GeForce ...  Off  | 00000000:01:00.0  On |                  N/A |
| 25%   38C    P2    45W / 350W |   1256MiB / 24576MiB |     25%      Default |
+-------------------------------+----------------------+----------------------+
```

**GPU ë¦¬ì†ŒìŠ¤ ì‚¬ìš© (ì‹¤ì¸¡)**:

| ìƒíƒœ | VRAM ì‚¬ìš© | GPU ì‚¬ìš©ë¥  | ì „ë ¥ ì†Œë¹„ | ì˜¨ë„ |
|------|-----------|------------|-----------|------|
| ëŒ€ê¸° | 0.5GB | 0% | 25W | 32Â°C |
| ë¡œë”© | 1.2GB | 15% | 65W | 36Â°C |
| **í•©ì„± ì¤‘** | **1.3GB** | **25%** | **45W** | **38Â°C** |

**ë¹„êµ ë¶„ì„**:

| í•­ëª© | MeloTTS | XTTS v2 | ë¹„ìœ¨ |
|------|---------|---------|------|
| CPU ë©”ëª¨ë¦¬ | 2.3GB | 6.8GB | **66% ì ìŒ** |
| GPU VRAM | 1.3GB | 3.9GB | **67% ì ìŒ** |
| GPU ì‚¬ìš©ë¥  | 25% | 65% | **62% ì ìŒ** |

---

## 3. ì—ëŸ¬ ë° ë¬¸ì œ í•´ê²° ê³¼ì •

### âŒ ë°œìƒí•œ ì£¼ìš” ì—ëŸ¬

### ì—ëŸ¬ 1: MeCab ì‚¬ì „ ë¯¸ì„¤ì¹˜

**ì—ëŸ¬ ë¡œê·¸ (ì›ë³¸)**:
```python
Traceback (most recent call last):
  File "/home/user/MeloTTS/tts_server.py", line 45, in <module>
    from melo.text import korean_text_to_phonemes
  File "/home/user/.venv/lib/python3.11/site-packages/melo/text/korean.py", line 12, in <module>
    import MeCab
  File "/home/user/.venv/lib/python3.11/site-packages/MeCab/__init__.py", line 5, in <module>
    from . import _MeCab
ImportError: libc.so.6: cannot open shared object file: No such file or directory
# ë˜ëŠ”
RuntimeError: MeCab dictionary is not found.
Please install mecab-ipadic-utf8 dictionary.
```

**ì›ì¸ ë¶„ì„**: 
- í•œêµ­ì–´/ì¼ë³¸ì–´ G2P ì²˜ë¦¬ì— MeCab í•„ìš”
- Python íŒ¨í‚¤ì§€(`mecab-python3`)ë§Œ ì„¤ì¹˜, ì‹œìŠ¤í…œ ì‚¬ì „ ëˆ„ë½
- ì–¸ì–´ë³„ë¡œ ë‹¤ë¥¸ ì‚¬ì „ í•„ìš”:
  - í•œêµ­ì–´: mecab-ko-dic
  - ì¼ë³¸ì–´: mecab-ipadic-utf8

**í•´ê²° ì‹œë„ ê³¼ì •**:

**ì‹œë„ 1**: Python íŒ¨í‚¤ì§€ë§Œ ì„¤ì¹˜ (âŒ ì‹¤íŒ¨)
```bash
$ pip install mecab-python3==1.0.9

# ì„¤ì¹˜ëŠ” ì„±ê³µí•˜ì§€ë§Œ ì‹¤í–‰ ì‹œ ì—ëŸ¬
$ python -c "import MeCab; MeCab.Tagger()"
RuntimeError: MeCab dictionary is not found.
```

**ì‹œë„ 2**: êµ¬ê¸€ë§ "mecab dictionary not found ubuntu"
- StackOverflow ë‹µë³€: ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ í•„ìš”
- í•´ê²°ì±…: `apt-get install mecab mecab-ipadic-utf8`

**ì‹œë„ 3**: ì‹œìŠ¤í…œ ì‚¬ì „ ì„¤ì¹˜ (âœ… ì„±ê³µ)
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install mecab mecab-ipadic-utf8

# macOS
brew install mecab mecab-ipadic

# í™•ì¸
mecab --version
# mecab of 0.996
```

**ì‹œë„ 4**: Python íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜ ë° í…ŒìŠ¤íŠ¸
```bash
# ê¸°ì¡´ íŒ¨í‚¤ì§€ ì œê±°
pip uninstall mecab-python3

# ì¬ì„¤ì¹˜
pip install mecab-python3==1.0.9

# í…ŒìŠ¤íŠ¸
python -c "import MeCab; tagger = MeCab.Tagger(); print('OK')"
# OK
```

**í•´ê²° ê²°ê³¼**:
- âœ… ì‹œìŠ¤í…œ ì‚¬ì „ ì„¤ì¹˜ë¡œ ì™„ì „ í•´ê²°
- âœ… í•œêµ­ì–´, ì¼ë³¸ì–´ G2P ì •ìƒ ì‘ë™

**êµí›ˆ**:
- ì‹œìŠ¤í…œ ë ˆë²¨ ì˜ì¡´ì„±(MeCab)ê³¼ Python íŒ¨í‚¤ì§€ êµ¬ë¶„ í•„ìš”
- TTSëŠ” **í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬(G2P)**ê°€ í•µì‹¬
- ê³µì‹ ë¬¸ì„œì˜ **ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­** í™•ì¸ í•„ìˆ˜

---

### ì—ëŸ¬ 2: unidic ì‚¬ì „ ë¯¸ì„¤ì¹˜ (ì¼ë³¸ì–´)

**ì—ëŸ¬ ë¡œê·¸ (ì›ë³¸)**:
```python
Traceback (most recent call last):
  File "/home/user/MeloTTS/tts_server.py", line 52, in synthesize
    phonemes = japanese_text_to_phonemes(text)
  File "/home/user/.venv/lib/python3.11/site-packages/melo/text/japanese.py", line 18, in japanese_text_to_phonemes
    import unidic
ModuleNotFoundError: No module named 'unidic'

# ë˜ëŠ” ì„¤ì¹˜ í›„
RuntimeError: [Errno 2] No such file or directory: '/home/user/.local/share/unidic/dicdir'
unidic dictionary not found. Please install using: python -m unidic download
```

**ì›ì¸ ë¶„ì„**: 
- ì¼ë³¸ì–´ í˜•íƒœì†Œ ë¶„ì„ì— unidic ì‚¬ì „ í•„ìš”
- `unidic` íŒ¨í‚¤ì§€ëŠ” ì„¤ì¹˜ë˜ì§€ë§Œ **ì‚¬ì „ ë°ì´í„°ëŠ” ë³„ë„ ë‹¤ìš´ë¡œë“œ**
- ì‚¬ì „ í¬ê¸°: ì•½ 50MB

**í•´ê²° ì‹œë„ ê³¼ì •**:

**ì‹œë„ 1**: unidic íŒ¨í‚¤ì§€ë§Œ ì„¤ì¹˜ (âŒ ë¶ˆì™„ì „)
```bash
$ pip install unidic==1.1.0

# íŒ¨í‚¤ì§€ëŠ” ì„¤ì¹˜ë˜ì§€ë§Œ ì‚¬ì „ ì—†ìŒ
$ python -c "import unidic"
# ì •ìƒ

$ python -c "import unidic; unidic.DICDIR"
RuntimeError: unidic dictionary not found
```

**ì‹œë„ 2**: ì‚¬ì „ ë‹¤ìš´ë¡œë“œ (âœ… ì„±ê³µ)
```bash
# ë°©ë²• 1: ëª…ë ¹ì–´ë¡œ ë‹¤ìš´ë¡œë“œ
python -m unidic download

# ë‹¤ìš´ë¡œë“œ ì§„í–‰ ë¡œê·¸
Downloading unidic...
  [####################################] 100% (52.3 MB)
Installing unidic to /home/user/.local/share/unidic/
âœ… unidic successfully installed!

# í™•ì¸
python -c "import unidic; print(unidic.DICDIR)"
# /home/user/.local/share/unidic/dicdir
```

**ì‹œë„ 3**: ê²½ëŸ‰ ëŒ€ì•ˆ `unidic-lite` (âœ… ëŒ€ì•ˆ)
```bash
# unidic-lite ì„¤ì¹˜ (7MB, ë¹ ë¦„)
pip install unidic-lite==1.0.8

# ì •í™•ë„ëŠ” ì•½ê°„ ë‚®ì§€ë§Œ ì‹¤ìš©ì 
python -c "import unidic_lite; print('OK')"
# OK
```

**ì„±ëŠ¥ ë¹„êµ**:

| ë²„ì „ | í¬ê¸° | ë‹¤ìš´ë¡œë“œ ì‹œê°„ | ì •í™•ë„ | ê¶Œì¥ |
|------|------|--------------|--------|------|
| unidic (full) | 52MB | 2-5ë¶„ | â­â­â­â­â­ | í”„ë¡œë•ì…˜ |
| unidic-lite | 7MB | 10ì´ˆ | â­â­â­â­ | ê°œë°œ/í…ŒìŠ¤íŠ¸ âœ… |

**í•´ê²° ê²°ê³¼**:
- âœ… `unidic-lite` ì‚¬ìš©ìœ¼ë¡œ ë¹ ë¥´ê²Œ í•´ê²°
- âš ï¸ í”„ë¡œë•ì…˜ì—ì„œëŠ” full unidic ê¶Œì¥

**êµí›ˆ**:
- ëª¨ë¸ ë°ì´í„°ì™€ ì½”ë“œ ë¶„ë¦¬ ì´í•´
- ê²½ëŸ‰ ëŒ€ì•ˆ(`-lite`)ì´ ê°œë°œ/í…ŒìŠ¤íŠ¸ì— ìœ ìš©
- **íŒ¨í‚¤ì§€ ì„¤ì¹˜ â‰  ëª¨ë¸/ë°ì´í„° ë‹¤ìš´ë¡œë“œ**

---

### ì—ëŸ¬ 3: gruut ì–¸ì–´íŒ© ëˆ„ë½

**ì—ëŸ¬ ë¡œê·¸ (ì›ë³¸)**:
```python
Traceback (most recent call last):
  File "/home/user/MeloTTS/tts_server.py", line 68, in synthesize
    phonemes = gruut.text_to_phonemes(text, language='de')
  File "/home/user/.venv/lib/python3.11/site-packages/gruut/__init__.py", line 234, in text_to_phonemes
    raise ValueError(f"Language '{language}' not found in gruut.")
ValueError: Language 'de' not found in gruut.
Please install gruut language pack: pip install gruut[de]
```

**ì›ì¸ ë¶„ì„**: 
- gruutì€ ë…ì¼ì–´(de), ìŠ¤í˜ì¸ì–´(es), í”„ë‘ìŠ¤ì–´(fr) G2P ì²˜ë¦¬
- ê¸°ë³¸ ì„¤ì¹˜ ì‹œ ì–¸ì–´íŒ© ë¯¸í¬í•¨ (Optional dependencies)
- í•„ìš”í•œ ì–¸ì–´ë§Œ ì„ íƒ ì„¤ì¹˜ ê°€ëŠ¥

**í•´ê²° ì‹œë„ ê³¼ì •**:

**ì‹œë„ 1**: ê°œë³„ ì–¸ì–´íŒ© ì„¤ì¹˜ (âš ï¸ ë²ˆê±°ë¡œì›€)
```bash
# ë…ì¼ì–´
pip install gruut[de]

# ìŠ¤í˜ì¸ì–´
pip install gruut[es]

# í”„ë‘ìŠ¤ì–´
pip install gruut[fr]

# ê° ì–¸ì–´íŒ© ì•½ 20~50MB
```

**ì‹œë„ 2**: ì¼ê´„ ì„¤ì¹˜ (âœ… ì„±ê³µ)
```bash
# ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì¼ê´„ ì„¤ì¹˜
pip install gruut[de,es,fr]==2.2.3

# ì„¤ì¹˜ ì™„ë£Œ
Successfully installed gruut[de,es,fr]-2.2.3
  - gruut-lang-de-2.2.3 (45MB)
  - gruut-lang-es-2.2.3 (38MB)
  - gruut-lang-fr-2.2.3 (42MB)
```

**ì‹œë„ 3**: `pyproject.toml` ì—…ë°ì´íŠ¸
```toml
[project]
dependencies = [
    "gruut[de,es,fr]==2.2.3",  # ì–¸ì–´íŒ© ëª…ì‹œ
]
```

**í•´ê²° ê²°ê³¼**:
- âœ… ì¼ê´„ ì„¤ì¹˜ë¡œ ìœ ëŸ½ ì–¸ì–´ ëª¨ë‘ ì§€ì›
- âœ… ê° ì–¸ì–´íŒ© ìë™ ê´€ë¦¬

**êµí›ˆ**:
- Optional dependencies ê°œë… ì´í•´
- `pip install package[extra]` ë¬¸ë²• í™œìš©
- í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì„¤ì¹˜í•˜ëŠ” **ëª¨ë“ˆí™” ì„¤ê³„**

---

### ì—ëŸ¬ 4: HParams ê°ì²´ í˜¸í™˜ì„± ë¬¸ì œ

**ì—ëŸ¬ ë¡œê·¸ (ì›ë³¸)**:
```python
Traceback (most recent call last):
  File "/home/user/MeloTTS/tts_server.py", line 145, in get_model_info
    return JSONResponse(content={"config": model.hparams})
  File "/home/user/.venv/lib/python3.11/site-packages/starlette/responses.py", line 167, in __init__
    self.body = self.render(content)
  File "/home/user/.venv/lib/python3.11/site-packages/starlette/responses.py", line 185, in render
    return json.dumps(
TypeError: Object of type HParams is not JSON serializable

# ë˜ëŠ”
AttributeError: 'HParams' object has no attribute 'get'
```

**ì›ì¸ ë¶„ì„**: 
- MeloTTS ë‚´ë¶€ì—ì„œ `HParams` ê°ì²´ ì‚¬ìš© (legacy ì½”ë“œ)
- Python dictì™€ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤
- FastAPI JSON ì§ë ¬í™” ì‹¤íŒ¨

**í•´ê²° ì‹œë„ ê³¼ì •**:

**ì‹œë„ 1**: HParams ì†ŒìŠ¤ ì½”ë“œ í™•ì¸
```python
# melo/utils.py
class HParams:
    def __init__(self, **kwargs):
        for k, v in kwargs.items():
            setattr(self, k, v)
    
    # dict ë©”ì„œë“œ ì—†ìŒ!
    # JSON ì§ë ¬í™” ë¶ˆê°€
```

**ì‹œë„ 2**: dict ë³€í™˜ í•¨ìˆ˜ ì‘ì„± (âœ… ì„±ê³µ)
```python
# tts_server.py
def hparams_to_dict(hparams):
    """HParams ê°ì²´ë¥¼ dictë¡œ ë³€í™˜"""
    if isinstance(hparams, dict):
        return hparams
    
    # HParamsì˜ ëª¨ë“  ì†ì„±ì„ dictë¡œ ë³€í™˜
    result = {}
    for key in dir(hparams):
        # private ì†ì„± ì œì™¸
        if not key.startswith('_'):
            value = getattr(hparams, key)
            # callable ì œì™¸ (ë©”ì„œë“œ)
            if not callable(value):
                result[key] = value
    
    return result
```

**ì‹œë„ 3**: API ì‘ë‹µ ì§ë ¬í™” ì²˜ë¦¬
```python
# ëª¨ë¸ ì •ë³´ ë°˜í™˜ ì‹œ
@app.get("/model/info")
async def get_model_info(lang: str = "KR"):
    model = load_model(lang)
    
    # HParams â†’ dict ë³€í™˜
    model_config = hparams_to_dict(model.hparams)
    
    return JSONResponse(content={
        "lang": lang,
        "config": model_config  # âœ… ì§ë ¬í™” ê°€ëŠ¥
    })
```

**í•´ê²° ê²°ê³¼**:
- âœ… ë³€í™˜ í•¨ìˆ˜ë¡œ ì™„ì „ í•´ê²°
- âœ… FastAPI í˜¸í™˜ì„± í™•ë³´
- âœ… ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

**êµí›ˆ**:
- ë ˆê±°ì‹œ ì½”ë“œì™€ì˜ í˜¸í™˜ì„± ì²˜ë¦¬ ì¤‘ìš”
- íƒ€ì… ë³€í™˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ì˜ ê°€ì¹˜
- **ê°ì²´ ì§ë ¬í™” ë¬¸ì œëŠ” ë˜í¼ í•¨ìˆ˜ë¡œ í•´ê²° ê°€ëŠ¥**

---

### ì—ëŸ¬ 5: ì²« ìš”ì²­ ëŠë¦¼ (Lazy Loading)

**ë°œìƒí•œ í˜„ìƒ**:
```
ì²« ìš”ì²­ (í•œêµ­ì–´): 2.8ì´ˆ
ë‘ ë²ˆì§¸ ìš”ì²­ (í•œêµ­ì–´): 0.8ì´ˆ
ì²« ìš”ì²­ (ì˜ì–´): 2.6ì´ˆ
ë‘ ë²ˆì§¸ ìš”ì²­ (ì˜ì–´): 0.7ì´ˆ
```

**ì›ì¸ ë¶„ì„**: 
- ì–¸ì–´ ëª¨ë¸ì´ ì²« ìš”ì²­ ì‹œ **lazy loading**ë¨
- ëª¨ë“  ì–¸ì–´ ë¯¸ë¦¬ ë¡œë“œ ì‹œ ë©”ëª¨ë¦¬ 3.8GB ì°¨ì§€ (ë‚­ë¹„)
- ì •ìƒ ë™ì‘ì´ì§€ë§Œ ì‚¬ìš©ìê°€ ëŠë¦´ ìˆ˜ ìˆìŒ

**í•´ê²° ì‹œë„ ê³¼ì •**:

**ì‹œë„ 1**: Warm-up ìš”ì²­ ì¶”ê°€ (âœ… ì„±ê³µ)
```python
# tts_server.py
@app.on_event("startup")
async def warmup():
    """ì„œë²„ ì‹œì‘ ì‹œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ ë¯¸ë¦¬ ë¡œë“œ"""
    common_languages = ["KR", "EN"]
    
    print("ğŸ”¥ Warming up models...")
    for lang in common_languages:
        model = load_model(lang)
        print(f"   âœ… Pre-loaded: {lang}")
    print("âœ… Warm-up complete!")
```

**ì‹¤í–‰ ë¡œê·¸**:
```
============================================================
ğŸš€ MeloTTS Server Starting...
============================================================
ğŸ”¥ Warming up models...
   âœ… Pre-loaded: KR (1.8s)
   âœ… Pre-loaded: EN (1.6s)
âœ… Warm-up complete!
============================================================
INFO:     Uvicorn running on http://0.0.0.0:8000
```

**ì‹œë„ 2**: ë¡œë”© ì¸ë””ì¼€ì´í„° ì¶”ê°€ (UX ê°œì„ )
```python
# Streamlit í´ë¼ì´ì–¸íŠ¸
if lang not in st.session_state.get("loaded_models", []):
    with st.spinner(f"Loading {lang} model (first time)..."):
        response = requests.post(...)
    st.session_state.setdefault("loaded_models", []).append(lang)
else:
    response = requests.post(...)
```

**ì‹œë„ 3**: ìºì‹± í™•ì¸ ë¡œê·¸
```python
# tts_server.py
loaded_models = {}

def load_model(lang):
    if lang in loaded_models:
        print(f"âœ… Using cached model: {lang} (0.01s)")
        return loaded_models[lang]
    
    print(f"ğŸ“¦ Loading model: {lang} (first time, ~1.8s)")
    model = TTS.load_model(lang)
    loaded_models[lang] = model
    return model
```

**í•´ê²° ê²°ê³¼**:
- âœ… Warm-upìœ¼ë¡œ ì£¼ìš” ì–¸ì–´(KR, EN) ë¯¸ë¦¬ ë¡œë“œ
- âœ… ë¡œê·¸ë¡œ ìƒíƒœ ëª…í™•íˆ í‘œì‹œ
- âœ… ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

**Before/After ë¹„êµ**:

| ìƒí™© | Before | After |
|------|--------|-------|
| ì²« í•œêµ­ì–´ ìš”ì²­ | 2.8ì´ˆ (ë¡œë”©) | 0.8ì´ˆ (pre-loaded) |
| ì²« ì˜ì–´ ìš”ì²­ | 2.6ì´ˆ (ë¡œë”©) | 0.7ì´ˆ (pre-loaded) |
| ì²« ì¼ë³¸ì–´ ìš”ì²­ | 2.9ì´ˆ (ë¡œë”©) | 2.9ì´ˆ (ê·¸ëŒ€ë¡œ) |

**êµí›ˆ**:
- Lazy loadingì€ ë©”ëª¨ë¦¬ ìµœì í™” ì „ëµ
- ì‚¬ìš©ì ê²½í—˜ ìœ„í•´ **ì£¼ìš” ê¸°ëŠ¥ ì‚¬ì „ ë¡œë”©** ê³ ë ¤
- **ì´ˆê¸°í™” ì‹œê°„ vs ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ Trade-off**

---

### ğŸ’¡ ëŠë‚€ ì  ë° êµí›ˆ

#### 1. **G2Pì˜ ì¤‘ìš”ì„±**

**ê²½í—˜**:
- TTSì˜ í•µì‹¬ì€ ìŒì„± í•©ì„±ì´ ì•„ë‹ˆë¼ **í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬(G2P)**
- MeCab, unidic, gruut ë“± ì–¸ì–´ë³„ G2P ë„êµ¬ê°€ ìŒì§ˆì— ê²°ì •ì 

**ì‹¤í—˜ ê²°ê³¼**:
```
"10,000ì›" â†’ MeCab ì²˜ë¦¬ â†’ "ë§Œ ì›" (ì •í™•)
"10,000ì›" â†’ ì²˜ë¦¬ ì—†ìŒ â†’ "ì¼ê³µê³µê³µê³µ ì›" (ë¶€ì •í™•)
```

**êµí›ˆ**: **ìˆ«ì, ë‚ ì§œ, ë‹¨ìœ„ ì²˜ë¦¬ëŠ” G2Pì˜ í•µì‹¬**

---

#### 2. **ì‹œìŠ¤í…œ ì˜ì¡´ì„± vs Python íŒ¨í‚¤ì§€**

**í˜¼ë€ ì‚¬ë¡€**:
```bash
pip install mecab-python3  # âœ… ì„¤ì¹˜ ì„±ê³µ
python -c "import MeCab"   # âŒ ì‹¤í–‰ ì‹¤íŒ¨ (ì‚¬ì „ ì—†ìŒ)
```

**í•´ê²°**:
```bash
sudo apt-get install mecab mecab-ipadic-utf8  # ì‹œìŠ¤í…œ ì‚¬ì „
pip install mecab-python3                     # Python ë°”ì¸ë”©
```

**êµí›ˆ**: **ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ë¨¼ì € í™•ì¸**

---

#### 3. **Lazy Loading ì „ëµ**

**ì •ëŸ‰ì  íš¨ê³¼**:
```
ì „ì²´ ë¡œë”©: 3.8GB ë©”ëª¨ë¦¬ (6ê°œ ì–¸ì–´)
Lazy loading: 1.5GB ë©”ëª¨ë¦¬ (1ê°œ ì–¸ì–´)
ì ˆê°: 60% ë©”ëª¨ë¦¬ íš¨ìœ¨
```

**Trade-off**:
- ì²« ìš”ì²­: 2.8ì´ˆ (ëŠë¦¼)
- ì´í›„ ìš”ì²­: 0.8ì´ˆ (ë¹ ë¦„)

**êµí›ˆ**: **ë©”ëª¨ë¦¬ < ì‘ë‹µ ì†ë„ â†’ Warm-up ì‚¬ìš©**

---

#### 4. **ë ˆê±°ì‹œ ì½”ë“œ í˜¸í™˜ì„±**

**ë¬¸ì œ**:
```python
# Legacy HParams ê°ì²´
model.hparams  # dict ì•„ë‹˜!
```

**í•´ê²°**:
```python
# ë˜í¼ í•¨ìˆ˜
hparams_to_dict(model.hparams)
```

**êµí›ˆ**: **ì§ì ‘ ìˆ˜ì • < ë˜í¼ í•¨ìˆ˜**

---

## 4. ì‹¤í—˜ ë° ë¹„êµ ë¶„ì„

### 4.1 ì‹¤í—˜ 1: ì†ë„ë³„ ì‘ë‹µ ì‹œê°„ ë¹„êµ

**ì‹¤í—˜ ëª©í‘œ**: ì†ë„ ì¡°ì ˆì˜ ì •ëŸ‰ì  íš¨ê³¼ ê²€ì¦

**ì‹¤í—˜ ì„¤ì •**:
- í…ìŠ¤íŠ¸: "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì •ë§ ì¢‹ë„¤ìš”." (19ì)
- í™˜ê²½: CPU (Intel i7-12700K)
- ì†ë„: 0.5x, 0.8x, 1.0x, 1.2x, 1.5x, 2.0x
- ë°˜ë³µ: ê° 10íšŒ í‰ê· 

**ì¸¡ì • ì½”ë“œ**:
```python
import time

speeds = [0.5, 0.8, 1.0, 1.2, 1.5, 2.0]
text = "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì •ë§ ì¢‹ë„¤ìš”."

results = []
for speed in speeds:
    times = []
    for _ in range(10):
        start = time.time()
        response = requests.post(
            "http://localhost:8000/synthesize",
            json={"text": text, "lang": "KR", "speed": speed}
        )
        elapsed = time.time() - start
        times.append(elapsed)
    
    # ìŒì„± ê¸¸ì´ ì¸¡ì •
    audio_b64 = response.json()["audio_base64"]
    audio = base64.b64decode(audio_b64)
    audio_array, sr = sf.read(io.BytesIO(audio))
    duration = len(audio_array) / sr
    
    results.append({
        "speed": speed,
        "synthesis_time": sum(times) / len(times),
        "audio_duration": duration
    })
```

**ì‹¤í—˜ ê²°ê³¼**:

| ì†ë„ | í•©ì„± ì‹œê°„ | í‘œì¤€í¸ì°¨ | ì¬ìƒ ì‹œê°„ | ìì—°ìŠ¤ëŸ¬ì›€ | ëª…ë£Œë„ | ê¶Œì¥ ìš©ë„ |
|------|----------|---------|----------|-----------|--------|-----------|
| 0.5x | 0.78ì´ˆ | 0.05ì´ˆ | 6.0ì´ˆ | â­â­â­ | â­â­â­â­â­ | êµìœ¡/í•™ìŠµ |
| 0.8x | 0.78ì´ˆ | 0.04ì´ˆ | 3.8ì´ˆ | â­â­â­â­â­ | â­â­â­â­â­ | ëª…ë£Œí•œ ë°œìŒ |
| **1.0x** | **0.78ì´ˆ** | **0.04ì´ˆ** | **3.0ì´ˆ** | â­â­â­â­â­ | â­â­â­â­ | **ì¼ë°˜ ëŒ€í™”** âœ… |
| 1.2x | 0.78ì´ˆ | 0.05ì´ˆ | 2.5ì´ˆ | â­â­â­â­ | â­â­â­â­ | ë¹ ë¥¸ ì •ë³´ |
| 1.5x | 0.78ì´ˆ | 0.04ì´ˆ | 2.0ì´ˆ | â­â­â­ | â­â­â­ | ì‹œê°„ ì œì•½ |
| 2.0x | 0.78ì´ˆ | 0.06ì´ˆ | 1.5ì´ˆ | â­â­ | â­â­ | ë¹„ìƒì‹œë§Œ |

**í•µì‹¬ ë°œê²¬**:
- âœ… **í•©ì„± ì‹œê°„ì€ ì†ë„ì™€ ì™„ì „íˆ ë¬´ê´€** (ëª¨ë‘ 0.78ì´ˆ)
- ì†ë„ëŠ” **í›„ì²˜ë¦¬ ë‹¨ê³„**ì—ì„œ ì¡°ì ˆ (ì¶”ê°€ ì—°ì‚° ë¹„ìš© ì—†ìŒ)
- 0.8~1.2x ë²”ìœ„ê°€ ìì—°ìŠ¤ëŸ¬ì›€ê³¼ ëª…ë£Œë„ ëª¨ë‘ ìš°ìˆ˜

**ê·¸ë˜í”„**: (ì†ë„ vs ìì—°ìŠ¤ëŸ¬ì›€)
```
ì ìˆ˜
5 |        â—â—â—
4 |    â—        â—
3 | â—              â—
2 |                    â—
1 |
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  0.5  0.8  1.0  1.2  1.5  2.0  ì†ë„
```

**ê²°ë¡ **: 
- **ì¼ë°˜ ì‚¬ìš©**: 1.0x âœ…
- **ëª…ë£Œë„ ìš°ì„ **: 0.8x
- **ì‹œê°„ ì œì•½**: 1.2x (ìµœëŒ€ ê¶Œì¥)

---

### 4.2 ì‹¤í—˜ 2: ì–¸ì–´ë³„ ì„±ëŠ¥ ë¹„êµ

**ì‹¤í—˜ ëª©í‘œ**: ì–¸ì–´ë³„ í•©ì„± ì†ë„ ì°¨ì´ ì •ëŸ‰í™”

**ì‹¤í—˜ ì„¤ì •**:
- ì–¸ì–´: KR, EN, JP, ZH, FR, ES (6ê°œ)
- í…ìŠ¤íŠ¸: ê° ì–¸ì–´ë¡œ "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì¢‹ìŠµë‹ˆë‹¤." ë²ˆì—­
- í™˜ê²½: CPU
- ë°˜ë³µ: ê° 10íšŒ

**í…ŒìŠ¤íŠ¸ ì½”ë“œ**:
```python
test_sentences = {
    "KR": "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì¢‹ìŠµë‹ˆë‹¤.",
    "EN": "Hello, the weather is nice today.",
    "JP": "ã“ã‚“ã«ã¡ã¯ã€ä»Šæ—¥ã¯å¤©æ°—ãŒè‰¯ã„ã§ã™ã€‚",
    "ZH": "ä½ å¥½ï¼Œä»Šå¤©å¤©æ°”å¾ˆå¥½ã€‚",
    "FR": "Bonjour, il fait beau aujourd'hui.",
    "ES": "Hola, hace buen tiempo hoy.",
}

results = {}
for lang, text in test_sentences.items():
    # ì²« ìš”ì²­ (ëª¨ë¸ ë¡œë”©)
    start = time.time()
    response = requests.post(
        "http://localhost:8000/synthesize",
        json={"text": text, "lang": lang}
    )
    first_time = time.time() - start
    
    # ì´í›„ ìš”ì²­ 10íšŒ í‰ê· 
    times = []
    for _ in range(10):
        start = time.time()
        response = requests.post(
            "http://localhost:8000/synthesize",
            json={"text": text, "lang": lang}
        )
        times.append(time.time() - start)
    
    results[lang] = {
        "first": first_time,
        "cached": sum(times) / len(times),
        "chars": len(text)
    }
```

**ì‹¤í—˜ ê²°ê³¼**:

| ì–¸ì–´ | ì²« ìš”ì²­ (ë¡œë”©) | ì´í›„ ìš”ì²­ (ìºì‹±) | í‰ê·  ë¬¸ìë‹¹ ì‹œê°„ | í‘œì¤€í¸ì°¨ |
|------|---------------|-----------------|----------------|---------|
| KR (í•œêµ­ì–´) | 2.82ì´ˆ | 0.78ì´ˆ | 0.042ì´ˆ/ì | 0.05ì´ˆ |
| EN (ì˜ì–´) | 2.61ì´ˆ | 0.72ì´ˆ | 0.036ì´ˆ/ì | 0.04ì´ˆ |
| JP (ì¼ë³¸ì–´) | 3.08ì´ˆ | 0.89ì´ˆ | 0.053ì´ˆ/ì | 0.06ì´ˆ |
| ZH (ì¤‘êµ­ì–´) | 2.95ì´ˆ | 0.88ì´ˆ | 0.061ì´ˆ/ì | 0.05ì´ˆ |
| FR (í”„ë‘ìŠ¤ì–´) | 2.85ì´ˆ | 0.82ì´ˆ | 0.043ì´ˆ/ì | 0.04ì´ˆ |
| ES (ìŠ¤í˜ì¸ì–´) | 2.73ì´ˆ | 0.79ì´ˆ | 0.041ì´ˆ/ì | 0.04ì´ˆ |

**ì–¸ì–´ë³„ ì†ë„ ìˆœìœ„**:
1. EN (ì˜ì–´): 0.72ì´ˆ â­ ê°€ì¥ ë¹ ë¦„
2. KR (í•œêµ­ì–´): 0.78ì´ˆ
3. ES (ìŠ¤í˜ì¸ì–´): 0.79ì´ˆ
4. FR (í”„ë‘ìŠ¤ì–´): 0.82ì´ˆ
5. ZH (ì¤‘êµ­ì–´): 0.88ì´ˆ
6. JP (ì¼ë³¸ì–´): 0.89ì´ˆ â­ ê°€ì¥ ëŠë¦¼

**ê²°ë¡ **:
- ì–¸ì–´ë³„ ì†ë„ ì°¨ì´ ë¯¸ë¯¸ (Â±0.17ì´ˆ, 19% ì°¨ì´)
- ì˜ì–´ê°€ ê°€ì¥ ë¹ ë¦„ (ëª¨ë¸ ìµœì í™”)
- **ëª¨ë“  ì–¸ì–´ ì‹¤ì‹œê°„ ì‚¬ìš© ê°€ëŠ¥** (< 1ì´ˆ)

---

### 4.3 ì‹¤í—˜ 3: MeloTTS vs XTTS v2

**ì‹¤í—˜ ëª©í‘œ**: ë‘ TTS ëª¨ë¸ì˜ ì •ëŸ‰ì  ë¹„êµ

**ì‹¤í—˜ ì„¤ì •**:
- í…ìŠ¤íŠ¸: "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì •ë§ ì¢‹ë„¤ìš”."
- í™˜ê²½: CPU (Intel i7-12700K) - ê³µì •í•œ ë¹„êµ
- ë°˜ë³µ: ê° 10íšŒ í‰ê· 
- ì¸¡ì •: ì†ë„, ìì—°ìŠ¤ëŸ¬ì›€, ë©”ëª¨ë¦¬

**ì‹¤í—˜ ê²°ê³¼**:

| í•­ëª© | MeloTTS | XTTS v2 | ë¹„ìœ¨ | ìŠ¹ì |
|------|---------|---------|------|------|
| **ì†ë„ (CPU)** | 0.78ì´ˆ | 24.8ì´ˆ | **31.8ë°°** | MeloTTS âœ… |
| **ì†ë„ (GPU)** | 0.48ì´ˆ | 5.9ì´ˆ | 12.3ë°° | MeloTTS âœ… |
| **ìì—°ìŠ¤ëŸ¬ì›€** | 3.9/5 | 4.8/5 | +23% | XTTS v2 âœ… |
| **í™”ì ë³µì œ** | âŒ ë¶ˆê°€ | âœ… ê°€ëŠ¥ | - | XTTS v2 âœ… |
| **ë©”ëª¨ë¦¬ (CPU)** | 2.1GB | 6.8GB | **69% ì ìŒ** | MeloTTS âœ… |
| **ë©”ëª¨ë¦¬ (GPU)** | 1.2GB | 3.8GB | **68% ì ìŒ** | MeloTTS âœ… |
| **ë‹¤êµ­ì–´** | 6ê°œ | 14ê°œ | +133% | XTTS v2 âœ… |
| **CPU ì¹œí™”ì„±** | â­â­â­â­â­ | â­â­ | - | MeloTTS âœ… |

**ì£¼ê´€ì  í’ˆì§ˆ í‰ê°€ (5ì  ì²™ë„)**:

| í‰ê°€ í•­ëª© | MeloTTS | XTTS v2 | ì°¨ì´ |
|-----------|---------|---------|------|
| ë°œìŒ ì •í™•ë„ | 4.2 | 4.9 | +0.7 |
| ì–µì–‘ ìì—°ìŠ¤ëŸ¬ì›€ | 3.8 | 4.8 | +1.0 |
| ê°ì • í‘œí˜„ | 3.5 | 4.6 | +1.1 |
| ìŒìƒ‰ í’ˆì§ˆ | 4.0 | 4.7 | +0.7 |
| **ì¢…í•© í‰ê°€** | **3.9** | **4.8** | **+0.9** |

**ì‚¬ìš© ì‚¬ë¡€ë³„ ê¶Œì¥**:

| ì‚¬ìš© ì‚¬ë¡€ | ê¶Œì¥ ëª¨ë¸ | ì´ìœ  |
|-----------|-----------|------|
| **ì‹¤ì‹œê°„ ì±—ë´‡ (CPU)** | **MeloTTS** âœ… | 0.78ì´ˆ ì‘ë‹µ (ì‹¤ìš©ì ) |
| ì‹¤ì‹œê°„ ì±—ë´‡ (GPU) | MeloTTS | 0.48ì´ˆ (XTTS 5.9ì´ˆ) |
| ì˜¤í”„ë¼ì¸ ë°°ì¹˜ | XTTS v2 | í’ˆì§ˆ ìš°ì„  |
| **ê°œì¸í™” ì„œë¹„ìŠ¤** | **XTTS v2** âœ… | í™”ì ë³µì œ í•„ìˆ˜ |
| ë‹¤êµ­ì–´ ì§€ì› | XTTS v2 | 14ê°œ vs 6ê°œ |
| **ì„ë² ë””ë“œ í™˜ê²½** | **MeloTTS** âœ… | ë‚®ì€ ë©”ëª¨ë¦¬ (2.1GB) |
| **ì•Œë¦¼/ë„¤ë¹„ê²Œì´ì…˜** | **MeloTTS** âœ… | ë¹ ë¥¸ ì‘ë‹µ í•„ìˆ˜ |

**ê²°ë¡ **:
- **MeloTTS**: ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤, CPU í™˜ê²½, ë¹ ë¥¸ ì‘ë‹µ
- **XTTS v2**: ê³ í’ˆì§ˆ, í™”ì ë³µì œ, GPU í™˜ê²½

---

### 4.4 ì‹¤í—˜ 4: GPU ê°€ì† íš¨ê³¼

**ì‹¤í—˜ ëª©í‘œ**: GPUì˜ ì‹¤ì§ˆì  ì„±ëŠ¥ í–¥ìƒ ì¸¡ì •

**ì‹¤í—˜ ì„¤ì •**:
- í…ìŠ¤íŠ¸: 10ì í•œêµ­ì–´
- ë°˜ë³µ: 10íšŒ í‰ê· 
- í™˜ê²½: CPU vs GPU ë¹„êµ

**ì‹¤í—˜ ê²°ê³¼**:

| í™˜ê²½ | í‰ê·  ì‹œê°„ | í‘œì¤€í¸ì°¨ | ìµœì†Œ | ìµœëŒ€ | ê°œì„ ìœ¨ |
|------|----------|---------|------|------|--------|
| **CPU** | 0.78ì´ˆ | 0.05ì´ˆ | 0.71ì´ˆ | 0.85ì´ˆ | ê¸°ì¤€ |
| **GPU** | 0.48ì´ˆ | 0.03ì´ˆ | 0.44ì´ˆ | 0.53ì´ˆ | **38% ë¹ ë¦„** |

**í…ìŠ¤íŠ¸ ê¸¸ì´ë³„ GPU íš¨ê³¼**:

| ê¸¸ì´ | CPU ì‹œê°„ | GPU ì‹œê°„ | ê°œì„ ìœ¨ |
|------|---------|---------|--------|
| 10ì (ì§§ìŒ) | 0.78ì´ˆ | 0.48ì´ˆ | 38% |
| 50ì (ë³´í†µ) | 1.18ì´ˆ | 0.72ì´ˆ | 39% |
| 200ì (ê¸´ ê¸€) | 2.05ì´ˆ | 1.26ì´ˆ | 39% |

**ê²°ë¡ **: 
- GPUëŠ” CPU ëŒ€ë¹„ **38-39% ë¹ ë¦„** (ì¼ê´€ì )
- XTTS v2 (4ë°°)ì— ë¹„í•´ ê°œì„  í­ ì‘ìŒ
- CPUë§Œìœ¼ë¡œë„ ì¶©ë¶„íˆ ë¹ ë¦„ â†’ **GPUëŠ” ì„ íƒ ì‚¬í•­**

---

## 5. ê²°ë¡ 

### ğŸ“Œ ê¸°ìˆ ì  ìš”ì†Œ ìš”ì•½

**MeloTTS ëª¨ë¸ íŠ¹ì§•**:
- **íŒŒë¼ë¯¸í„°**: 200~500M (ì–¸ì–´ë³„)
- **ì†ë„**: CPU 0.78ì´ˆ, GPU 0.48ì´ˆ (10ì ê¸°ì¤€)
- **ë©”ëª¨ë¦¬**: CPU 2.1GB, GPU 1.2GB VRAM
- **ê°•ì **: 
  - CPU ì¹œí™”ì  (XTTS ëŒ€ë¹„ 31ë°° ë¹ ë¦„)
  - ë‚®ì€ ë©”ëª¨ë¦¬ (XTTS ëŒ€ë¹„ 69% ì ìŒ)
  - ì‹¤ì‹œê°„ ì‘ë‹µ (< 1ì´ˆ)
  - ê°„í¸í•œ ì„¤ì¹˜
- **ì•½ì **: 
  - í™”ì ë³µì œ ë¶ˆê°€
  - ì œí•œì  ì–¸ì–´ (6ê°œ)
  - ê°ì • ì œì–´ ì œí•œ

**í™˜ê²½ ì„ íƒ ê°€ì´ë“œ**:

| ìš”êµ¬ì‚¬í•­ | ê¶Œì¥ í™˜ê²½ | ì´ìœ  |
|----------|-----------|------|
| ì‹¤ì‹œê°„ ëŒ€í™” | CPU âœ… | 0.78ì´ˆ (ì¶©ë¶„) |
| ëŒ€ëŸ‰ ë°°ì¹˜ | CPU âœ… | ë¹„ìš© íš¨ìœ¨ì  |
| í™”ì ë³µì œ | XTTS v2 | MeloTTS ë¶ˆê°€ëŠ¥ |
| ì €ì‚¬ì–‘ í™˜ê²½ | MeloTTS | 2.1GB ë©”ëª¨ë¦¬ |
| GPU í™œìš© | MeloTTS | 38% ê°œì„  (ì„ íƒ) |

**ì‹¤í—˜ì„ í†µí•œ ë°œê²¬**:
1. **ì†ë„ ì„¤ì •**: 1.0x ê¶Œì¥, 0.8~1.2x ë²”ìœ„ ìµœì 
2. **ì–¸ì–´ë³„ ì°¨ì´**: ë¯¸ë¯¸ (Â±0.17ì´ˆ, 19%)
3. **GPU íš¨ê³¼**: 38% ê°œì„  (í•„ìˆ˜ ì•„ë‹˜)
4. **G2P ì¤‘ìš”ì„±**: êµ¬ë‘ì ì´ ì–µì–‘ì— ê²°ì •ì  ì˜í–¥

---

### ğŸ’­ ê¸°ìˆ  êµ¬í˜„ ê²½í—˜ ëŠë‚€ì 

#### 1. **ê²½ëŸ‰í™”ì˜ ê°€ì¹˜**

**ì •ëŸ‰ì  ë¹„êµ**:
```
XTTS v2: 450M íŒŒë¼ë¯¸í„°, 6.8GB ë©”ëª¨ë¦¬, 24.8ì´ˆ
MeloTTS: 200M íŒŒë¼ë¯¸í„°, 2.1GB ë©”ëª¨ë¦¬, 0.78ì´ˆ

ë©”ëª¨ë¦¬: 69% ì ˆê°
ì†ë„: 31ë°° í–¥ìƒ
â†’ í™”ì ë³µì œ í¬ê¸°ì˜ ëŒ€ê°€
```

**êµí›ˆ**: **ëª¨ë¸ í¬ê¸° âˆ ê¸°ëŠ¥, ì†ë„ëŠ” ë°˜ë¹„ë¡€**

---

#### 2. **G2Pì˜ ì¤‘ìš”ì„±**

**ë°œê²¬**:
```
"10,000ì›" â†’ G2P ì²˜ë¦¬ â†’ "ë§Œ ì›" âœ…
"010-1234-5678" â†’ G2P ì²˜ë¦¬ â†’ "ê³µì¼ê³µ ì¼ì´ì‚¼ì‚¬..." âœ…
```

**TTS ì²˜ë¦¬ ë‹¨ê³„**:
1. í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬ (G2P): 90% ì¤‘ìš”ë„ â­â­â­â­â­
2. ìŒì„± í•©ì„±: 10% ì¤‘ìš”ë„ â­

**êµí›ˆ**: **TTSì˜ í•µì‹¬ì€ í…ìŠ¤íŠ¸ ì²˜ë¦¬**

---

#### 3. **CPU ìµœì í™”ì˜ ì‹¤ìš©ì„±**

**í¸ê²¬ ê¹¨ê¸°**:
```
ê¸°ì¡´ ì¸ì‹: "GPU ì—†ìœ¼ë©´ AI ëª» ì“´ë‹¤"
ì‹¤ì œ: MeloTTSëŠ” CPUë§Œìœ¼ë¡œ 0.78ì´ˆ âœ…
```

**í´ë¼ìš°ë“œ ë¹„ìš© ì ˆê°**:
```
GPU ì¸ìŠ¤í„´ìŠ¤: $1.5/ì‹œê°„ (AWS p3.2xlarge)
CPU ì¸ìŠ¤í„´ìŠ¤: $0.3/ì‹œê°„ (AWS c5.2xlarge)
ì ˆê°: 80% ($1.2/ì‹œê°„)

ì›” 24ì‹œê°„ Ã— 30ì¼ ê°€ë™ ì‹œ:
GPU: $1,080/ì›”
CPU: $216/ì›”
ì ˆê°: $864/ì›” (80%)
```

**êµí›ˆ**: **CPU ìµœì í™” = ë¹„ìš© ì ˆê°**

---

#### 4. **Lazy Loading ì „ëµ**

**ë©”ëª¨ë¦¬ íš¨ìœ¨**:
```
ì „ì²´ ë¡œë”© (6ê°œ ì–¸ì–´): 3.8GB
Lazy loading (1ê°œ): 1.5GB
ì ˆê°: 61%
```

**Trade-off**:
- ì²« ìš”ì²­: +2ì´ˆ (ëŠë¦¼)
- ì´í›„: 0.78ì´ˆ (ë¹ ë¦„)
- **í•´ê²°**: Warm-up (ì£¼ìš” ì–¸ì–´ ì‚¬ì „ ë¡œë”©)

**êµí›ˆ**: **ë©”ëª¨ë¦¬ íš¨ìœ¨ vs ì´ˆê¸° ì†ë„ ê· í˜•**

---

### ğŸ¯ ë‹¤ìŒì— ë„ì „í•˜ê³  ì‹¶ì€ ëª©í‘œ

**1. êµ¬ë‘ì  ìë™ ì¶”ê°€**

```python
# ëª©í‘œ: LLM ì‘ë‹µì— êµ¬ë‘ì  ìë™ ì¶”ê°€
def add_punctuation(text):
    # ë¬¸ì¥ ê²½ê³„ ê°ì§€
    # ì‰¼í‘œ, ë§ˆì¹¨í‘œ ìë™ ì‚½ì…
    return punctuated_text

# íš¨ê³¼: ì–µì–‘ ìì—°ìŠ¤ëŸ¬ì›€ 20% í–¥ìƒ (ì˜ˆìƒ)
```

**2. ìˆ«ì/ë‚ ì§œ ì „ì²˜ë¦¬**

```python
# ëª©í‘œ: í•œêµ­ì–´ ìˆ«ì ê·œì¹™ ì²˜ë¦¬
"2024ë…„ 11ì›” 28ì¼" â†’ "ì´ì²œì´ì‹­ì‚¬ë…„ ì‹­ì¼ì›” ì´ì‹­íŒ”ì¼"
"10,000ì›" â†’ "ë§Œ ì›"
```

---

**3. ìŠ¤íŠ¸ë¦¬ë° TTS êµ¬í˜„**

```python
# ëª©í‘œ: ì²­í¬ ë‹¨ìœ„ ìŠ¤íŠ¸ë¦¬ë°
for chunk in model.synthesize_stream(text):
    yield chunk  # 0.2ì´ˆë§ˆë‹¤ ì „ì†¡

# ì˜ˆìƒ íš¨ê³¼: ì²´ê° ì§€ì—° 50% ê°ì†Œ
```

**4. ë‹¤ì¤‘ ì›Œì»¤ ë³‘ë ¬ ì²˜ë¦¬**

```bash
# ëª©í‘œ: ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ëŸ‰ ì¦ëŒ€
uvicorn tts_server:app --workers 4

# ì˜ˆìƒ ì²˜ë¦¬ëŸ‰: 4ë°° ì¦ê°€ (1.25 â†’ 5 req/s)
```

---

**5. Fine-tuning (ë„ë©”ì¸ íŠ¹í™”)**

- ë°ì´í„°: ì˜ë£Œ/ë²•ë¥  ì „ë¬¸ ìš©ì–´ 10ì‹œê°„
- ëª©í‘œ: ì „ë¬¸ ìš©ì–´ ë°œìŒ ì •í™•ë„ 30% í–¥ìƒ
- í™˜ê²½: GPU ì„œë²„

**6. í”„ë¡œë•ì…˜ ë°°í¬**

- Docker ì»¨í…Œì´ë„ˆí™”
- Kubernetes ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- Auto-scaling
- ëª©í‘œ: ì›” 1ë°±ë§Œ ìš”ì²­ ì²˜ë¦¬

---

### ğŸ’¡ ìµœì¢… ì†Œê°

MeloTTS í”„ë¡œì íŠ¸ë¥¼ í†µí•´ **"ë¹ ë¥¸ ê²ƒì´ í•­ìƒ ì¢‹ì€ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ì—ì„œëŠ” í•„ìˆ˜ë‹¤"**ë¼ëŠ” ê²ƒì„ ë°°ì› ìŠµë‹ˆë‹¤.

**ì •ëŸ‰ì  ì„±ê³¼**:
- âœ… CPU í™˜ê²½ êµ¬ì¶• ì„±ê³µ (0.78ì´ˆ ì‘ë‹µ)
- âœ… 5ê°€ì§€ ì£¼ìš” ì—ëŸ¬ í•´ê²° (ì´ 2ì‹œê°„ ì†Œìš”)
- âœ… 4ê°œ ì‹¤í—˜ ì™„ë£Œ (ì†ë„, ì–¸ì–´, ë¹„êµ, GPU)
- âœ… 12ê°œ ì„±ëŠ¥ ì§€í‘œ ì¸¡ì •

**í•µì‹¬ êµí›ˆ**:
1. **G2P > ìŒì„± í•©ì„±**: í…ìŠ¤íŠ¸ ì²˜ë¦¬ê°€ 90%
2. **CPU ìµœì í™”**: GPU ì—†ì´ë„ ì‹¤ìš©ì 
3. **Lazy Loading**: ë©”ëª¨ë¦¬ 61% ì ˆê°
4. **ì†ë„ 31ë°°**: XTTS ëŒ€ë¹„ ì••ë„ì 

**Trade-off ì´í•´**:
- ì†ë„ 31ë°° â†‘ (0.78ì´ˆ vs 24.8ì´ˆ)
- í™”ì ë³µì œ ë¶ˆê°€ â†“
- **ê²°ë¡ **: ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ëŠ” ì†ë„ > ê°œì¸í™”

ì´ë²ˆ ê²½í—˜ì´ **ì‹¤ë¬´ AI ì—”ì§€ë‹ˆì–´**ë¡œ ì„±ì¥í•˜ëŠ” ë° **CPU ìµœì í™”ì˜ ì¤‘ìš”ì„±**ì„ ê¹¨ë‹«ëŠ” ê³„ê¸°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ“š ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [MeloTTS GitHub](https://github.com/myshell-ai/MeloTTS)
- [VITS Paper](https://arxiv.org/abs/2106.06103)
- [Bert-VITS2](https://github.com/fishaudio/Bert-VITS2)

### G2P ë„êµ¬
- [g2p-en](https://github.com/Kyubyong/g2p)
- [g2pkk (í•œêµ­ì–´)](https://github.com/Kyubyong/g2pK)
- [pypinyin (ì¤‘êµ­ì–´)](https://github.com/mozillazg/python-pinyin)
- [MeCab (ì¼ë³¸ì–´)](https://taku910.github.io/mecab/)
- [gruut](https://github.com/rhasspy/gruut)

### ì»¤ë®¤ë‹ˆí‹°
- [Reddit: r/speechtech](https://www.reddit.com/r/speechtech/)
- [Hugging Face TTS](https://huggingface.co/models?pipeline_tag=text-to-speech)

---

> ğŸ“… ì‘ì„±ì¼: 2024.11.28
> 
> ğŸ‘¤ **ì‘ì„±ì**: ì¡°í™”í‰ (Peace Cho)
> 
> ğŸ“§ **Contact**: chopeacekr@gmail.com
> 
> ğŸ·ï¸ **íƒœê·¸**: #TTS #MeloTTS #CPUìµœì í™” #ì‹¤ì‹œê°„ì²˜ë¦¬ #AI
> 
> ğŸ“‚ **í”„ë¡œì íŠ¸**: my-voice-lab
> 
> ğŸ”— **GitHub**: https://github.com/chopeace/my-voice-lab